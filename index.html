<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Selbstreflexions-Test</title>

<style>
  body {
    margin: 0;
    font-family: "Segoe UI", system-ui, sans-serif;
    background: linear-gradient(180deg, #fdf6f9, #e6f7f5);
    color: #444;
  }

  .container {
    max-width: 850px;
    margin: auto;
    padding: 18px;
  }

  h1, h2 {
    text-align: center;
    color: #5a6c7d;
  }

  .card {
    background: white;
    padding: 18px;
    border-radius: 18px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.07);
    margin-bottom: 20px;
    animation: fadeIn 0.6s ease;
  }

  @keyframes fadeIn {
    from {opacity:0; transform:translateY(10px);}
    to {opacity:1; transform:translateY(0);}
  }

  .bird {
    text-align: center;
    animation: float 3s ease-in-out infinite;
  }

  @keyframes float {
    0%,100% { transform: translateY(0); }
    50% { transform: translateY(-6px); }
  }

  .question {
    margin: 15px 0;
    padding: 12px;
    border-radius: 14px;
    background: #f9fcff;
    transition: 0.2s;
  }

  .question:hover {
    background: #eef7ff;
  }

  label {
    display: block;
    margin: 4px 0;
    cursor: pointer;
  }

  button {
    background: #a8dadc;
    border: none;
    padding: 14px;
    border-radius: 14px;
    font-size: 16px;
    cursor: pointer;
    width: 100%;
    margin-top: 15px;
    transition: 0.2s;
  }

  button:hover {
    background: #90cfd1;
    transform: scale(1.02);
  }

  .progress {
    height: 10px;
    background: #e0f2f1;
    border-radius: 10px;
    overflow: hidden;
    margin: 15px 0 20px 0;
  }

  .progress-bar {
    height: 100%;
    width: 0%;
    background: #76c7c0;
    transition: width 0.3s;
  }

  .result {
    display: none;
    padding: 15px;
    border-radius: 15px;
    background: #eefaf7;
    margin-top: 20px;
  }

  .warning {
    font-size: 14px;
    background: #fff4e6;
    border-left: 5px solid #ffb703;
  }

  @media (max-width:600px) {
    h1 { font-size: 22px; }
    .card { padding: 14px; }
  }
</style>
</head>

<body>
<div class="container">

  <div class="card bird">
    <svg width="110" height="110" viewBox="0 0 120 120">
      <circle cx="60" cy="65" r="35" fill="#ffd166"/>
      <circle cx="75" cy="50" r="20" fill="#ffe29a"/>
      <circle cx="82" cy="45" r="5" fill="#333"/>
      <polygon points="95,55 115,60 95,65" fill="#f4a261"/>
      <circle cx="40" cy="80" r="10" fill="#ffb703"/>
    </svg>
    <h1>Selbstreflexions-Fragebogen</h1>
  </div>

  <div class="card warning">
    <strong>Wichtiger Hinweis:</strong><br><br>
    Dieser Fragebogen ist <strong>kein medizinischer oder psychologischer Test</strong>.  
    Er dient ausschlie√ülich als <strong>Schulprojekt zur Selbstreflexion</strong> und stellt  
    <strong>keine Diagnose</strong> dar.  
    Die Ergebnisse sind nur Hinweise und k√∂nnen fachliche Beratung nicht ersetzen.  
    Wenn du dir Sorgen √ºber deinen Konsum oder dein Verhalten machst, wende dich bitte  
    an eine √Ñrztin, einen Arzt oder eine Beratungsstelle.
  </div>

  <div class="progress"><div class="progress-bar" id="progressBar"></div></div>

  <form id="quizForm" class="card"></form>

  <button type="button" id="resultBtn">Ergebnis anzeigen</button>

  <div class="result card" id="resultBox"></div>

</div>

<script>
const questions = [
"Ich habe Tage, an denen ich mich besonders auf Konsum freue.",
"Manchmal denke ich: 'Heute habe ich es mir verdient.'",
"Ich nutze bestimmte Substanzen, um besser abschalten zu k√∂nnen.",
"Mein Konsum ist st√§rker geworden als noch vor einem Jahr.",
"Ich verschiebe Aufgaben, wenn ich konsumiert habe.",
"Ich f√ºhle mich ohne bestimmte Mittel manchmal weniger entspannt.",
"Freizeitaktivit√§ten drehen sich oft um Konsumgelegenheiten.",
"Ich habe schon Geld ausgegeben, das ich eigentlich anders brauchte.",
"Ich rede meinen Konsum vor mir selbst klein.",
"Ich w√ºrde mich unwohl f√ºhlen, wenn andere alles w√ºssten.",
"Ich plane meinen Tag manchmal um Konsum herum.",
"Ich nutze Konsum als Belohnung.",
"Ich habe nach Konsum schon Entscheidungen bereut.",
"Ich f√ºhle mich gereizt, wenn ich l√§nger nichts nehme.",
"Ich habe schon gesagt: 'Nur heute noch'.",
"Ich habe Gewohnheiten entwickelt, die sich schwer √§ndern lassen.",
"Ich brauche manchmal mehr als fr√ºher f√ºr denselben Effekt.",
"Ich habe Konsum vor anderen versteckt.",
"Ich habe Hobbys oder Kontakte vernachl√§ssigt.",
"Ich mache mir insgeheim Sorgen √ºber mein Verhalten."
];

const form = document.getElementById("quizForm");
const progressBar = document.getElementById("progressBar");

questions.forEach((q, index) => {
  const div = document.createElement("div");
  div.className = "question";
  div.innerHTML = `<strong>${index+1}. ${q}</strong>
    <label><input type="radio" name="q${index}" value="0"> Trifft nicht zu</label>
    <label><input type="radio" name="q${index}" value="1"> Eher nicht</label>
    <label><input type="radio" name="q${index}" value="2"> Teils/teils</label>
    <label><input type="radio" name="q${index}" value="3"> Eher ja</label>
    <label><input type="radio" name="q${index}" value="4"> Trifft zu</label>`;
  form.appendChild(div);
});

form.addEventListener("change", () => {
  const answered = new FormData(form);
  const percent = (answered.entries().length / questions.length) * 100;
  progressBar.style.width = percent + "%";
});

document.getElementById("resultBtn").addEventListener("click", () => {
  const data = new FormData(form);
  let score = 0;
  let count = 0;

  for (let val of data.values()) {
    score += parseInt(val);
    count++;
  }

  if (count < questions.length) {
    alert("Bitte beantworte alle Fragen üê¶");
    return;
  }

  const resultBox = document.getElementById("resultBox");
  resultBox.style.display = "block";

  let message = "";

  if (score < 25) message = "üü¢ Niedrige Auff√§lligkeit ‚Äì aktuell zeigen sich wenige Hinweise auf problematische Muster.";
  else if (score < 45) message = "üü° Leichte Auff√§lligkeit ‚Äì einige Gewohnheiten k√∂nnten riskanter werden.";
  else if (score < 65) message = "üü† Deutliche Auff√§lligkeit ‚Äì Unterst√ºtzung oder Beratung k√∂nnte sinnvoll sein.";
  else message = "üî¥ Hohe Auff√§lligkeit ‚Äì es w√§re gut, mit einer Fachperson zu sprechen.";

  resultBox.innerHTML = `<h2>Dein Ergebnis</h2>
  <p><strong>Punktzahl:</strong> ${score}</p>
  <p>${message}</p>`;
});
</script>

</body>
</html>
